<?xml version="1.0" encoding="UTF-8"?>
<bp:blueprint xmlns="http://www.springframework.org/schema/osgi-compendium"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:bp="http://www.osgi.org/xmlns/blueprint/v1.0.0"
	xmlns:beans="http://www.springframework.org/schema/beans"
	xsi:schemaLocation="
		http://www.osgi.org/xmlns/blueprint/v1.0.0
		http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
		http://www.springframework.org/schema/osgi-compendium
       	http://www.springframework.org/schema/osgi-compendium/spring-osgi-compendium.xsd
       	http://www.springframework.org/schema/beans
       	http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- 

	<cm-properties id="named" persistent-id="foo.bar" />

	<cm-properties id="noLocalOverride" persistent-id="noLocalOverride"/>
		<prop key="foo">bar</prop>
		<prop key="kry">pton</prop>
	</cm-properties>
		 -->
	<!-- 

	<cm-properties id="localOverride" persistent-id="localOverride"/>
		local-override="true">
		<prop key="foo">bar</prop>
		<prop key="kry">pton</prop>
	</cm-properties>
    -->
    
	<bp:bean id="props" class="java.util.Properties" />

	<!-- simple -->
	<managed-service-factory id="simple"
		factory-pid="my.pid" interface="java.lang.Object" auto-export="all-classes">
		<bp:bean class="java.lang.Object" />
	</managed-service-factory>

	<!-- ccl specified -->
	<managed-service-factory id="ccl" factory-pid="my.pid">
		<interfaces>
			<beans:value>java.util.Map</beans:value>
			<beans:value>java.io.Serializable</beans:value>
		</interfaces>
		<bp:bean class="java.util.HashMap" />
	</managed-service-factory>

	<!-- update strategy specified -->
	<managed-service-factory id="container-update"
		factory-pid="my.pid" autowire-on-update="true" auto-export="all-classes">
		<bp:bean class="java.lang.Object" />
	</managed-service-factory>

	<managed-service-factory id="bp:bean-update"
		factory-pid="my.pid" autowire-on-update="false"
		update-method="update" auto-export="all-classes">
		<bp:bean class="java.lang.Object" />
	</managed-service-factory>

	<bp:bean class="org.eclipse.gemini.blueprint.compendium.OneSetter">
		<managed-properties persistent-id="non-name" />
	</bp:bean>

	<bp:bean id="simpleWUpdate" class="org.eclipse.gemini.blueprint.compendium.OneSetter">
		<managed-properties persistent-id="simple"
			autowire-on-update="true" />
	</bp:bean>

	<bp:bean id="multipleWUpdate"
		class="org.eclipse.gemini.blueprint.compendium.MultipleSetters">
		<managed-properties persistent-id="multiple"
			autowire-on-update="true" />
<!-- 		<property name="integer" value="23" /> -->
	</bp:bean>

	<bp:bean id="beanManaged"
		class="org.eclipse.gemini.blueprint.compendium.BeanManaged">
		<managed-properties persistent-id="bp:bean-managed"
			autowire-on-update="false" update-method="update" />
<!-- 		<property name="integer" value="23" /> -->
	</bp:bean>
</bp:blueprint>